<Type Name="BestFitMappingAttribute" FullName="System.Runtime.InteropServices.BestFitMappingAttribute">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="549e15455fe9fa4eb5fb6e3865c34e10c2b2113d" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30479471" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class BestFitMappingAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit BestFitMappingAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.InteropServices.BestFitMappingAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class BestFitMappingAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class BestFitMappingAttribute sealed : Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime.InteropServices</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Assembly | System.AttributeTargets.Class | System.AttributeTargets.Struct | System.AttributeTargets.Interface, Inherited=false)</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>控制是否将 Unicode 字符转换为最接近的匹配 ANSI 字符。</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 可以将此特性应用于程序集、 接口、 类或结构。  
  
 默认情况下，公共语言运行时将转换为 ANSI 字符的任何托管 Unicode 字符传递给 Windows 98 或 Windows me 上执行非托管的方法 最佳的映射使时不存在完全匹配选择近似匹配字符互操作封送处理程序。 例如，该封送处理 Unicode 版权将字符转换为 c 接受 ANSI 字符的非托管方法。  
  
> [!CAUTION]
>  某些字符缺少最佳的表示形式;这些字符称为无法映射。 通常，无法映射的字符将转换为默认值？ANSI 字符。 某些 Unicode 字符都转换为危险的字符，如反斜杠\\字符，会在无意中更改路径。  
  
 <xref:System.Runtime.InteropServices.BestFitMappingAttribute> 提供两个参数来控制的最佳映射方面。 第一个参数用于切换打开和关闭的最佳的映射。 默认值是`true`，从而使程序集、 接口和类级别上的最佳的映射。 应用于接口或类的属性将覆盖程序集级别属性。 同样，可以启用或禁用最佳映射平台 invoke 调用通过使用<xref:System.Runtime.InteropServices.DllImportAttribute.BestFitMapping?displayProperty=nameWithType>字段。 平台设置的值调用字段替代的所有级别<xref:System.Runtime.InteropServices.BestFitMappingAttribute>。  
  
 你可以使用控件无法映射的字符上引发异常的第二个参数。 默认值为<xref:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar>字段是`false`，引发异常每个哪些禁用时间运行时遇到具有要转换为 Unicode 字符？ANSI 字符。 即使最佳的映射是`true`，无法映射的字符生成了异常时<xref:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar>字段是`true`。 若要增强安全性，可以切换到的第一个参数`false`和第二个参数`true`。 此参数设置的组合将关闭，最佳的映射，但允许作为安全措施异常引发机制。  
  
> [!CAUTION]
>  无法更改默认值由提供<xref:System.Runtime.InteropServices.BestFitMappingAttribute>时将托管的数组传递其元素是 ANSI 字符或 Lpstr 到非托管的安全数组。 最佳的映射始终处于启用状态，并可能会引发任何异常。 请注意此组合可能会危及你的安全模型。  
  
   
  
## Examples  
 下面的示例演示如何禁用最佳映射并转换到 Unicode 字符上引发异常？ANSI 字符。 设置<xref:System.Runtime.InteropServices.BestFitMappingAttribute>以这种方式的参数提供附加的安全措施。  
  
 [!code-cpp[System.Runtime.InteropServices.BestFitMappingAttribute#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.runtime.interopservices.bestfitmappingattribute/cpp/source.cpp#1)]
 [!code-csharp[System.Runtime.InteropServices.BestFitMappingAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.interopservices.bestfitmappingattribute/cs/source.cs#1)]
 [!code-vb[System.Runtime.InteropServices.BestFitMappingAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.interopservices.bestfitmappingattribute/vb/source.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="F:System.Runtime.InteropServices.DllImportAttribute.BestFitMapping" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public BestFitMappingAttribute (bool BestFitMapping);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(bool BestFitMapping) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.InteropServices.BestFitMappingAttribute.#ctor(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (BestFitMapping As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; BestFitMappingAttribute(bool BestFitMapping);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime.InteropServices</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="BestFitMapping" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="BestFitMapping">
          <see langword="true" /> 指示启用最佳映射；否则为 <see langword="false" />。 默认值为 <see langword="true" />。</param>
        <summary>初始化 <see cref="T:System.Runtime.InteropServices.BestFitMappingAttribute" /> 类的新实例，并将其设置为 <see cref="P:System.Runtime.InteropServices.BestFitMappingAttribute.BestFitMapping" /> 属性的值。</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="BestFitMapping">
      <MemberSignature Language="C#" Value="public bool BestFitMapping { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool BestFitMapping" />
      <MemberSignature Language="DocId" Value="P:System.Runtime.InteropServices.BestFitMappingAttribute.BestFitMapping" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property BestFitMapping As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool BestFitMapping { bool get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime.InteropServices</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>获取将 Unicode 字符转换为 ANSI 字符时的最佳映射行为。</summary>
        <value>
          如果启用最佳映射则为 <see langword="true" />；否则为 <see langword="false" />。 默认值为 <see langword="true" />。</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 如果最佳的映射是`false`和<xref:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar>是`true`，需要转换为 ANSI 格式的所有 Unicode 字符将都产生异常传递到非托管代码。 某些字符是无法映射，即使最佳映射是`true`。 某些字符缺少最佳的表示形式;这些字符称为无法映射。 通常，无法映射的字符将转换为默认值？ANSI 字符。  
  
> [!CAUTION]
>  某些 Unicode 字符都转换为危险的字符，如反斜杠\\字符，会在无意中更改路径。  
  
 ]]></format>
        </remarks>
        <altmember cref="F:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar" />
      </Docs>
    </Member>
    <Member MemberName="ThrowOnUnmappableChar">
      <MemberSignature Language="C#" Value="public bool ThrowOnUnmappableChar;" />
      <MemberSignature Language="ILAsm" Value=".field public bool ThrowOnUnmappableChar" />
      <MemberSignature Language="DocId" Value="F:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar" />
      <MemberSignature Language="VB.NET" Value="Public ThrowOnUnmappableChar As Boolean " />
      <MemberSignature Language="C++ CLI" Value="public: bool ThrowOnUnmappableChar;" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime.InteropServices</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>启用或禁用在遇到已被转换为 ANSI“?”字符的无法映射的 Unicode 字符时引发异常。</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 如果`false`、<xref:System.Runtime.InteropServices.BestFitMappingAttribute.ThrowOnUnmappableChar>禁用字段; 否则，互操作封送处理程序遇到无法映射字符每次引发异常。 默认的 `false`。  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>