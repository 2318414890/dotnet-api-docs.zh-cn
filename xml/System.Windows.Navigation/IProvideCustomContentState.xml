<Type Name="IProvideCustomContentState" FullName="System.Windows.Navigation.IProvideCustomContentState">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="04b5cc469ca9a3c60663f2cabb84c373bb26a89b" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public interface IProvideCustomContentState" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IProvideCustomContentState" />
  <TypeSignature Language="DocId" Value="T:System.Windows.Navigation.IProvideCustomContentState" />
  <TypeSignature Language="VB.NET" Value="Public Interface IProvideCustomContentState" />
  <TypeSignature Language="C++ CLI" Value="public interface class IProvideCustomContentState" />
  <AssemblyInfo>
    <AssemblyName>PresentationFramework</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="9c7c1-101">由某类实现，该类需要在离开内容之前将自定义状态添加到内容的导航历史记录条目中。</span>
      <span class="sxs-lookup">
        <span data-stu-id="9c7c1-101">Implemented by a class that needs to add custom state to the navigation history entry for content before the content is navigated away from.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9c7c1-102"><xref:System.Windows.Navigation.IProvideCustomContentState> 可以将关联的一条自定义状态，作为一个自定义实现<xref:System.Windows.Navigation.CustomContentState>类，与已导航离开的内容的导航历史记录条目。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-102"><xref:System.Windows.Navigation.IProvideCustomContentState> allows you to associate a piece of custom state, implemented as a custom <xref:System.Windows.Navigation.CustomContentState> class, with the navigation history entry for content that has been navigated away from.</span></span>  
  
 <span data-ttu-id="9c7c1-103">自定义状态还可以以这种方式使用以下方法关联：</span><span class="sxs-lookup"><span data-stu-id="9c7c1-103">Custom state can also be associated in this way by using the following:</span></span>  
  
-   <span data-ttu-id="9c7c1-104">调用**AddBackEntry**:</span><span class="sxs-lookup"><span data-stu-id="9c7c1-104">Calling **AddBackEntry**:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.AddBackEntry%2A?displayProperty=nameWithType>  
  
    -   <span data-ttu-id="9c7c1-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-105"><xref:System.Windows.Controls.Frame.AddBackEntry%2A?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="9c7c1-106">设置<xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType>引发以下事件之一：</span><span class="sxs-lookup"><span data-stu-id="9c7c1-106">Setting <xref:System.Windows.Navigation.NavigatingCancelEventArgs.Content%2A?displayProperty=nameWithType> when one of the following events are raised:</span></span>  
  
    -   <xref:System.Windows.Navigation.NavigationService.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Controls.Frame.Navigating?displayProperty=nameWithType>  
  
    -   <xref:System.Windows.Navigation.NavigationWindow.Navigating?displayProperty=nameWithType>  
  
 <span data-ttu-id="9c7c1-107">必须实现<xref:System.Windows.Navigation.IProvideCustomContentState>时你自定义将状态添加到导航历史记录通过调用**AddBackEntry**，否则为导航历史记录将无法正常工作; 考虑执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="9c7c1-107">You must implement <xref:System.Windows.Navigation.IProvideCustomContentState> when you add custom state to navigation history by calling **AddBackEntry**, otherwise navigation history will not function correctly; consider the following steps:</span></span>  
  
1.  <span data-ttu-id="9c7c1-108">**AddBackEntry**调用以将自定义的状态相关联的当前内容。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-108">**AddBackEntry** is called to associate a custom state with the current content.</span></span>  
  
2.  <span data-ttu-id="9c7c1-109">导航历史记录条目导航回和<xref:System.Windows.Navigation.CustomContentState.Replay%2A>被调用的自定义状态的方法，并且状态应用到内容。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-109">The navigation history entry is navigated back to, and the <xref:System.Windows.Navigation.CustomContentState.Replay%2A> method of the custom state is called, and the state is applied to the content.</span></span>  
  
3.  <span data-ttu-id="9c7c1-110">前进导航历史记录中导航到以前的内容。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-110">The previous content is navigated to in forward navigation history.</span></span>  
  
4.  <span data-ttu-id="9c7c1-111">导航历史记录条目向后导航，但不是在上次与之关联的导航历史记录条目已导航到保留自定义的状态。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-111">The navigation history entry is navigated back to, but the custom state has not been retained since the last time the navigation history entry it was associated with was navigated to.</span></span>  
  
 <span data-ttu-id="9c7c1-112">这是默认行为，因为它已添加到导航历史记录中后，可能会更改最初记录在自定义状态的状态。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-112">This is the default behavior because the state that is initially recorded in custom state may change after it was added to navigation history.</span></span> <span data-ttu-id="9c7c1-113">如果向后导航的自定义的状态对象并将应用其状态，在某些方面的状态更改之前导航历史记录中的项导航到之前, 的状态更改不能反映自定义状态对象中。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-113">If the custom state object is navigated back to and its state is applied, before some aspect about the state changes before the entry in navigation history is navigated to, the change in state cannot be reflected in the custom state object.</span></span> <span data-ttu-id="9c7c1-114">此外，<xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A>不显式调用以添加新的自定义状态对象反映状态更改。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-114">Furthermore, <xref:System.Windows.Navigation.NavigationService.AddBackEntry%2A> can't be explicitly called to add a new custom state object that reflects the state changes.</span></span> <span data-ttu-id="9c7c1-115">因此，以确保当前状态的特定导航始终存储在导航历史记录，<xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A>调用。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-115">Consequently, to ensure the current state for a particular navigation is always stored in navigation history, <xref:System.Windows.Navigation.IProvideCustomContentState.GetContentState%2A> is called.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9c7c1-116">如果将信息存储在自定义内容的状态时，无法存储到要为其记住状态的页面的实例的任何引用。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-116">When you store information in custom content state, you cannot store any references to the instance of the page for which you are remembering state.</span></span> <span data-ttu-id="9c7c1-117">这可以防止[!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)]从释放的页实例和破坏默认导航历史记录行为的用途。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-117">This prevents [!INCLUDE[TLA2#tla_wpf](~/includes/tla2sharptla-wpf-md.md)] from releasing the page instance, and defeats the purpose of the default navigation history behavior.</span></span> <span data-ttu-id="9c7c1-118">如果你必须执行此操作，则可以考虑使用<xref:System.Windows.Controls.Page.KeepAlive%2A>相反。</span><span class="sxs-lookup"><span data-stu-id="9c7c1-118">If you must do this, you might consider using <xref:System.Windows.Controls.Page.KeepAlive%2A> instead.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="GetContentState">
      <MemberSignature Language="C#" Value="public System.Windows.Navigation.CustomContentState GetContentState ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Windows.Navigation.CustomContentState GetContentState() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Windows.Navigation.IProvideCustomContentState.GetContentState" />
      <MemberSignature Language="VB.NET" Value="Public Function GetContentState () As CustomContentState" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Windows::Navigation::CustomContentState ^ GetContentState();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>PresentationFramework</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Windows.Navigation.CustomContentState</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="9c7c1-119">返回一个要与导航历史记录中的内容关联的自定义状态类的实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="9c7c1-119">Returns an instance of a custom state class that is to be associated with content in navigation history.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="9c7c1-120">一个要与导航历史记录中的内容关联的自定义 <see cref="T:System.Windows.Navigation.CustomContentState" /> 类的实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="9c7c1-120">An instance of a custom <see cref="T:System.Windows.Navigation.CustomContentState" /> class that is to be associated with content in navigation history.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>