<Type Name="InvalidCastException" FullName="System.InvalidCastException">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="0742560bca3dc570c144dd68aa7933ab6ade1166" />
    <Meta Name="ms.sourcegitcommit" Value="d877ae76e9e11799bf919379507239e2c4072742" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="zh-CN" />
    <Meta Name="ms.lasthandoff" Value="08/09/2018" />
    <Meta Name="ms.locfileid" Value="39986416" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class InvalidCastException : SystemException" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable beforefieldinit InvalidCastException extends System.SystemException" />
  <TypeSignature Language="DocId" Value="T:System.InvalidCastException" />
  <TypeSignature Language="VB.NET" Value="Public Class InvalidCastException&#xA;Inherits SystemException" />
  <TypeSignature Language="C++ CLI" Value="public ref class InvalidCastException : SystemException" />
  <TypeSignature Language="F#" Value="type InvalidCastException = class&#xA;    inherit SystemException" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Exception</BaseTypeName>
    <BaseTypeName FrameworkAlternate="netframework-4.5">System.SystemException</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Runtime.InteropServices.ComVisible(true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="39d15-101">当执行了无效的强制转换或显式转换时引发的异常。</span>
      <span class="sxs-lookup">
        <span data-stu-id="39d15-101">The exception that is thrown for invalid casting or explicit conversion.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-102">.NET Framework 支持从派生类型转换为其基类型为派生的类型，以及提供接口进行交互的对象并返回的类型自动转换。</span><span class="sxs-lookup"><span data-stu-id="39d15-102">The .NET Framework supports automatic conversion from derived types to their base types and back to the derived type, as well as from types that present interfaces to interface objects and back.</span></span> <span data-ttu-id="39d15-103">它还包括各种支持的自定义转换的机制。</span><span class="sxs-lookup"><span data-stu-id="39d15-103">It also includes a variety of mechanisms that support custom conversions.</span></span> <span data-ttu-id="39d15-104">有关详细信息，请参阅[.NET Framework 中的类型转换](~/docs/standard/base-types/type-conversion.md)。</span><span class="sxs-lookup"><span data-stu-id="39d15-104">For more information, see [Type Conversion in the .NET Framework](~/docs/standard/base-types/type-conversion.md).</span></span>  
  
 <span data-ttu-id="39d15-105"><xref:System.InvalidCastException>不支持的一种类型的实例转换为另一种类型时引发异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-105">An <xref:System.InvalidCastException> exception is thrown when the conversion of an instance of one type to another type is not supported.</span></span> <span data-ttu-id="39d15-106">例如，尝试将转换<xref:System.Char>值设为<xref:System.DateTime>值，则会引发<xref:System.InvalidCastException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-106">For example, attempting to convert a <xref:System.Char> value to a <xref:System.DateTime> value throws an <xref:System.InvalidCastException> exception.</span></span> <span data-ttu-id="39d15-107">它不同于<xref:System.OverflowException>支持到另一种类型的转换，但源类型的值超出了目标类型的范围时引发的异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-107">It differs from an <xref:System.OverflowException> exception, which is thrown when a conversion of one type to another is supported, but the value of the source type is outside the range of the target type.</span></span>  <span data-ttu-id="39d15-108"><xref:System.InvalidCastException>异常由开发人员错误，并且不应处理中`try/catch`阻止; 相反，应消除异常的原因。</span><span class="sxs-lookup"><span data-stu-id="39d15-108">An <xref:System.InvalidCastException> exception is caused by developer error and should not be handled in a `try/catch` block; instead, the cause of the exception should be eliminated.</span></span>  
  
 <span data-ttu-id="39d15-109">有关系统支持的转换的信息，请参阅<xref:System.Convert>类。</span><span class="sxs-lookup"><span data-stu-id="39d15-109">For information about conversions supported by the system, see the <xref:System.Convert> class.</span></span> <span data-ttu-id="39d15-110">有关源类型值，但不是大型目标类型可以存储时出现的错误不足以存储特定的源值，请参阅<xref:System.OverflowException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-110">For errors that occur when the destination type can store source type values, but is not large enough to store a specific source value, see the <xref:System.OverflowException> exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="39d15-111">在许多情况下，你的语言编译器检测到任何转换的源类型与目标类型之间存在并会发出编译器错误。</span><span class="sxs-lookup"><span data-stu-id="39d15-111">In many cases, your language compiler detects that no conversion exists between the source type and the target type and issues a compiler error.</span></span>  
  
 <span data-ttu-id="39d15-112">一些条件尝试执行的转换会引发在其下<xref:System.InvalidCastException>以下各节中讨论了异常：</span><span class="sxs-lookup"><span data-stu-id="39d15-112">Some of the conditions under which an attempted conversion throws an <xref:System.InvalidCastException> exception are discussed in the following sections:</span></span>  
  
 <span data-ttu-id="39d15-113">[基元类型和 IConvertible](#Primitive) </span><span class="sxs-lookup"><span data-stu-id="39d15-113">[Primitive types and IConvertible](#Primitive) </span></span>  
 <span data-ttu-id="39d15-114">[Convert.ChangeType 方法](#ChangeType) </span><span class="sxs-lookup"><span data-stu-id="39d15-114">[The Convert.ChangeType method](#ChangeType) </span></span>  
 <span data-ttu-id="39d15-115">[收缩转换和 IConvertible 实现](#Narrowing) </span><span class="sxs-lookup"><span data-stu-id="39d15-115">[Narrowing conversions and IConvertible implementations](#Narrowing) </span></span>  
 <span data-ttu-id="39d15-116">[向下转换](#Downcasting) </span><span class="sxs-lookup"><span data-stu-id="39d15-116">[Downcasting](#Downcasting) </span></span>  
 <span data-ttu-id="39d15-117">[从接口对象的转换](#Interface) </span><span class="sxs-lookup"><span data-stu-id="39d15-117">[Conversion from an interface object](#Interface) </span></span>  
 <span data-ttu-id="39d15-118">[字符串转换](#String) </span><span class="sxs-lookup"><span data-stu-id="39d15-118">[String conversions](#String) </span></span>  
 [<span data-ttu-id="39d15-119">Visual Basic 6.0 迁移</span><span class="sxs-lookup"><span data-stu-id="39d15-119">Visual Basic 6.0 migration</span></span>](#Migration)  
  
 <span data-ttu-id="39d15-120">对于显式引用转换成功，源值必须为`null`，或由源参数引用的对象类型必须可转换为目标类型的隐式引用转换。</span><span class="sxs-lookup"><span data-stu-id="39d15-120">For an explicit reference conversion to be successful, the source value must be `null`, or the object type referenced by the source argument must be convertible to the destination type by an implicit reference conversion.</span></span>  
  
 <span data-ttu-id="39d15-121">以下的中间语言 (IL) 指令引发<xref:System.InvalidCastException>异常：</span><span class="sxs-lookup"><span data-stu-id="39d15-121">The following intermediate language (IL) instructions throw an <xref:System.InvalidCastException> exception:</span></span>  
  
-   `castclass`  
  
-   `refanyval`  
  
-   `unbox`  
  
 <span data-ttu-id="39d15-122"><xref:System.InvalidCastException> 使用 HRESULT COR_E_INVALIDCAST，其值 0x80004002。</span><span class="sxs-lookup"><span data-stu-id="39d15-122"><xref:System.InvalidCastException> uses the HRESULT COR_E_INVALIDCAST, which has the value 0x80004002.</span></span>  
  
 <span data-ttu-id="39d15-123">有关实例的初始属性值的列表<xref:System.InvalidCastException>，请参阅<xref:System.InvalidCastException.%23ctor%2A>构造函数。</span><span class="sxs-lookup"><span data-stu-id="39d15-123">For a list of initial property values for an instance of <xref:System.InvalidCastException>, see the <xref:System.InvalidCastException.%23ctor%2A> constructors.</span></span>  
  
<a name="Primitive"></a>   
## <a name="primitive-types-and-iconvertible"></a><span data-ttu-id="39d15-124">基元类型和 IConvertible</span><span class="sxs-lookup"><span data-stu-id="39d15-124">Primitive types and IConvertible</span></span>  
 <span data-ttu-id="39d15-125">直接或间接调用基元类型的<xref:System.IConvertible>不支持特定转换的实现。</span><span class="sxs-lookup"><span data-stu-id="39d15-125">You directly or indirectly call a primitive type's <xref:System.IConvertible> implementation that does not support a particular conversion.</span></span> <span data-ttu-id="39d15-126">例如，尝试将转换<xref:System.Boolean>值设为<xref:System.Char>或<xref:System.DateTime>值设置为<xref:System.Int32>引发<xref:System.InvalidCastException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-126">For example, trying to convert a <xref:System.Boolean> value to a <xref:System.Char> or a <xref:System.DateTime> value to an <xref:System.Int32> throws an <xref:System.InvalidCastException> exception.</span></span> <span data-ttu-id="39d15-127">下面的示例调用两<xref:System.Boolean.System%23IConvertible%23ToChar%2A?displayProperty=nameWithType>并<xref:System.Convert.ToChar%28System.Boolean%29?displayProperty=nameWithType>进行转换的方法<xref:System.Boolean>值设为<xref:System.Char>。</span><span class="sxs-lookup"><span data-stu-id="39d15-127">The following example calls both the <xref:System.Boolean.System%23IConvertible%23ToChar%2A?displayProperty=nameWithType> and <xref:System.Convert.ToChar%28System.Boolean%29?displayProperty=nameWithType> methods to convert a <xref:System.Boolean> value to a <xref:System.Char>.</span></span> <span data-ttu-id="39d15-128">在这两种情况下，该方法调用将引发<xref:System.InvalidCastException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-128">In both cases, the method call throws an <xref:System.InvalidCastException> exception.</span></span>  
  
 [!code-csharp[System.InvalidCastException#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.invalidcastexception/cs/iconvertible1.cs#2)]
 [!code-vb[System.InvalidCastException#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.invalidcastexception/vb/iconvertible1.vb#2)]  
  
 <span data-ttu-id="39d15-129">由于支持转换，没有解决方法。</span><span class="sxs-lookup"><span data-stu-id="39d15-129">Because the conversion is not supported, there is no workaround.</span></span>  
  
<a name="ChangeType"></a>   
## <a name="the-convertchangetype-method"></a><span data-ttu-id="39d15-130">Convert.ChangeType 方法</span><span class="sxs-lookup"><span data-stu-id="39d15-130">The Convert.ChangeType method</span></span>  
 <span data-ttu-id="39d15-131">已调用<xref:System.Convert.ChangeType%2A?displayProperty=nameWithType>方法将对象从一种类型到另一个，但一个或两种类型不实现<xref:System.IConvertible>接口。</span><span class="sxs-lookup"><span data-stu-id="39d15-131">You've called the <xref:System.Convert.ChangeType%2A?displayProperty=nameWithType> method to convert an object from one type to another, but one or both types don't implement the <xref:System.IConvertible> interface.</span></span>  
  
 <span data-ttu-id="39d15-132">在大多数情况下，由于支持转换，没有解决方法。</span><span class="sxs-lookup"><span data-stu-id="39d15-132">In most cases, because the conversion is not supported, there is no workaround.</span></span> <span data-ttu-id="39d15-133">在某些情况下，可能的解决方法是手动将属性值的源类型分配给的类似属性的目标类型。</span><span class="sxs-lookup"><span data-stu-id="39d15-133">In some cases, a possible workaround is to manually assign property values from the source type to similar properties of a the target type.</span></span>  
  
<a name="Narrowing"></a>   
## <a name="narrowing-conversions-and-iconvertible-implementations"></a><span data-ttu-id="39d15-134">收缩转换和 IConvertible 实现</span><span class="sxs-lookup"><span data-stu-id="39d15-134">Narrowing conversions and IConvertible implementations</span></span>  
 <span data-ttu-id="39d15-135">收缩运算符定义类型支持的显式转换。</span><span class="sxs-lookup"><span data-stu-id="39d15-135">Narrowing operators define the explicit conversions supported by a type.</span></span>  <span data-ttu-id="39d15-136">在 C# 强制转换运算符或`CType`在 Visual Basic 中的转换方法 (如果`Option Strict`上) 所需执行转换。</span><span class="sxs-lookup"><span data-stu-id="39d15-136">A casting operator in C# or the `CType` conversion method in Visual Basic (if `Option Strict` is on)  is required to perform the conversion.</span></span>  
  
 <span data-ttu-id="39d15-137">但是，如果源类型既不目标类型定义的显式或收缩的两个类型之间的转换和<xref:System.IConvertible>的一个或两种类型的实现不支持从的源类型转换为目标类型， <xref:System.InvalidCastException>引发异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-137">However, if neither the source type nor the target type defines an explicit or narrowing conversion between the two types, and the <xref:System.IConvertible> implementation of one or both types doesn't support a conversion from the source type to the target type, an <xref:System.InvalidCastException> exception is thrown.</span></span>  
  
 <span data-ttu-id="39d15-138">在大多数情况下，由于支持转换，没有解决方法。</span><span class="sxs-lookup"><span data-stu-id="39d15-138">In most cases, because the conversion is not supported, there is no workaround.</span></span>  
  
<a name="Downcasting"></a>   
## <a name="downcasting"></a><span data-ttu-id="39d15-139">向下转换</span><span class="sxs-lookup"><span data-stu-id="39d15-139">Downcasting</span></span>  
 <span data-ttu-id="39d15-140">您将向下转换，即，尝试将基类型的实例转换为其派生类型之一。</span><span class="sxs-lookup"><span data-stu-id="39d15-140">You are downcasting, that is, trying to convert an instance of a base type to one of its derived types.</span></span> <span data-ttu-id="39d15-141">在以下示例中，尝试将转换`Person`对象传递给`PersonWithID`对象失败。</span><span class="sxs-lookup"><span data-stu-id="39d15-141">In the following example, trying to convert a `Person` object to a `PersonWithID` object fails.</span></span>  
  
 [!code-csharp[System.InvalidCastException#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.invalidcastexception/cs/basetoderived1.cs#1)]
 [!code-vb[System.InvalidCastException#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.invalidcastexception/vb/basetoderived1.vb#1)]  
  
 <span data-ttu-id="39d15-142">如示例所示，向下转换时才会成功`Person`对象从向上转换来创建`PersonWithId`对象传递给`Person`对象，或者如果`Person`对象是`null`。</span><span class="sxs-lookup"><span data-stu-id="39d15-142">As the example shows, the downcast succeeds only if the `Person` object was created by an upcast from a `PersonWithId` object to a `Person` object, or if the `Person` object is `null`.</span></span>  
  
<a name="Interface"></a>   
## <a name="conversion-from-an-interface-object"></a><span data-ttu-id="39d15-143">从接口对象的转换</span><span class="sxs-lookup"><span data-stu-id="39d15-143">Conversion from an interface object</span></span>  
 <span data-ttu-id="39d15-144">尝试将接口对象转换为类型实现该接口，但目标类型不是相同类型或接口对象最初从其派生的类型的基类。</span><span class="sxs-lookup"><span data-stu-id="39d15-144">You are attempting to convert an interface object to a type that  implements that interface, but the target type is not the same type or a base class of the type from which the interface object was originally derived.</span></span> <span data-ttu-id="39d15-145">下面的示例将引发<xref:System.InvalidCastException>异常时它会尝试转换<xref:System.IFormatProvider>对象传递给<xref:System.Globalization.DateTimeFormatInfo>对象。</span><span class="sxs-lookup"><span data-stu-id="39d15-145">The following example throws an <xref:System.InvalidCastException> exception when it attempts to convert an <xref:System.IFormatProvider> object  to a <xref:System.Globalization.DateTimeFormatInfo> object.</span></span> <span data-ttu-id="39d15-146">转换失败，因为尽管<xref:System.Globalization.DateTimeFormatInfo>类实现<xref:System.IFormatProvider>接口，<xref:System.Globalization.DateTimeFormatInfo>对象不与<xref:System.Globalization.CultureInfo>类从它派生的接口对象。</span><span class="sxs-lookup"><span data-stu-id="39d15-146">The conversion fails because although the <xref:System.Globalization.DateTimeFormatInfo> class implements the <xref:System.IFormatProvider> interface, the <xref:System.Globalization.DateTimeFormatInfo> object is not related to the <xref:System.Globalization.CultureInfo> class from which  the interface object was derived.</span></span>  
  
 [!code-csharp[System.InvalidCastException#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.invalidcastexception/cs/Interface1.cs#3)]
 [!code-vb[System.InvalidCastException#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.invalidcastexception/vb/Interface1.vb#3)]  
  
 <span data-ttu-id="39d15-147">作为异常消息指示，接口对象转换回原始类型的实例，在这种情况下，才会成功转换<xref:System.Globalization.CultureInfo>。</span><span class="sxs-lookup"><span data-stu-id="39d15-147">As the exception message indicates, the conversion would succeed only if the interface object is converted back to an instance of the original type, in this case a  <xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="39d15-148">如果接口对象转换为原始类型的基类型的实例，也会成功完成转换。</span><span class="sxs-lookup"><span data-stu-id="39d15-148">The conversion would also succeed if the interface object is converted to an instance of a base type of the original type.</span></span>  
  
<a name="String"></a>   
## <a name="string-conversions"></a><span data-ttu-id="39d15-149">字符串转换</span><span class="sxs-lookup"><span data-stu-id="39d15-149">String conversions</span></span>  
 <span data-ttu-id="39d15-150">要为其字符串表示形式中转换值或对象，在 C# 中使用强制转换运算符。</span><span class="sxs-lookup"><span data-stu-id="39d15-150">You are trying to convert a value or an object to its string representation by using a casting operator in C#.</span></span> <span data-ttu-id="39d15-151">在下面的示例中，这两个尝试强制转换<xref:System.Char>值为字符串，并尝试强制转换到字符串抛出一个整数，<xref:System.InvalidCastException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-151">In the following example, both the attempt to cast a <xref:System.Char> value to a string and the attempt to cast an integer to a string throw an <xref:System.InvalidCastException> exception.</span></span>  
  
 [!code-csharp[System.InvalidCastException#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.invalidcastexception/cs/ToString1.cs#4)]  
  
> [!NOTE]
>  <span data-ttu-id="39d15-152">使用 Visual Basic`CStr`运算符将基元类型的值转换为字符串成功。</span><span class="sxs-lookup"><span data-stu-id="39d15-152">Using the Visual Basic `CStr` operator to convert a value of a primitive type to a string succeeds.</span></span> <span data-ttu-id="39d15-153">该操作不会引发<xref:System.InvalidCastException>异常。</span><span class="sxs-lookup"><span data-stu-id="39d15-153">The operation does not throw an <xref:System.InvalidCastException> exception.</span></span>  
  
 <span data-ttu-id="39d15-154">为成功转换为其字符串表示形式的任何类型的实例，请在调用其`ToString`方法，如下面的示例执行。</span><span class="sxs-lookup"><span data-stu-id="39d15-154">To successfully covert an instance of any type to its string representation, call its `ToString` method, as the following example does.</span></span>  <span data-ttu-id="39d15-155">`ToString`方法将始终存在，因为<xref:System.Object.ToString%2A>方法由定义<xref:System.Object>类并因此继承或重写由下列所有托管类型。</span><span class="sxs-lookup"><span data-stu-id="39d15-155">The `ToString` method is always present, since the <xref:System.Object.ToString%2A> method is defined by the <xref:System.Object> class and therefore is either inherited or overridden by all managed types.</span></span>  
  
 [!code-csharp[System.InvalidCastException#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.invalidcastexception/cs/ToString2.cs#5)]  
  
<a name="Migration"></a>   
## <a name="visual-basic-60-migration"></a><span data-ttu-id="39d15-156">Visual Basic 6.0 迁移</span><span class="sxs-lookup"><span data-stu-id="39d15-156">Visual Basic 6.0 migration</span></span>  
 <span data-ttu-id="39d15-157">您具有对用户控件中的自定义事件的调用的 Visual Basic 6.0 应用程序升级到 Visual Basic.NET 和<xref:System.InvalidCastException>引发异常并显示消息，"指定的转换无效。"</span><span class="sxs-lookup"><span data-stu-id="39d15-157">You're upgrading a Visual Basic 6.0 application with a call to a custom event in a user control to Visual Basic .NET, and an <xref:System.InvalidCastException> exception is thrown with the message, "Specified cast is not valid."</span></span> <span data-ttu-id="39d15-158">若要消除此异常，更改你的窗体中的代码行 (如`Form1`)</span><span class="sxs-lookup"><span data-stu-id="39d15-158">To eliminate this exception, change the line of code in your form (such as `Form1`)</span></span>  
  
```  
Call UserControl11_MyCustomEvent(UserControl11, New UserControl1.MyCustomEventEventArgs(5))  
```  
  
 <span data-ttu-id="39d15-159">并将其替换为以下代码行：</span><span class="sxs-lookup"><span data-stu-id="39d15-159">and replace it with the following line of code:</span></span>  
  
```  
Call UserControl11_MyCustomEvent(UserControl11(0), New UserControl1.MyCustomEventEventArgs(5))  
```  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Exception" />
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="39d15-160">初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-160">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public InvalidCastException ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.InvalidCastException.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; InvalidCastException();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="39d15-161">初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-161">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-162">此构造函数初始化<xref:System.Exception.Message%2A>为系统提供的错误进行描述，例如"无法转换的源类型为目标类型。"的消息的新实例的属性</span><span class="sxs-lookup"><span data-stu-id="39d15-162">This constructor initializes the <xref:System.Exception.Message%2A> property of the new instance to a system-supplied message that describes the error, such as "Cannot cast from source type to destination type."</span></span> <span data-ttu-id="39d15-163">此消息将当前系统区域性考虑在内。</span><span class="sxs-lookup"><span data-stu-id="39d15-163">This message takes into account the current system culture.</span></span>  
  
 <span data-ttu-id="39d15-164">下表显示 <xref:System.InvalidCastException> 的实例的初始属性值。</span><span class="sxs-lookup"><span data-stu-id="39d15-164">The following table shows the initial property values for an instance of <xref:System.InvalidCastException>.</span></span>  
  
|<span data-ttu-id="39d15-165">Property</span><span class="sxs-lookup"><span data-stu-id="39d15-165">Property</span></span>|<span data-ttu-id="39d15-166">“值”</span><span class="sxs-lookup"><span data-stu-id="39d15-166">Value</span></span>|  
|--------------|-----------|  
|<xref:System.Exception.InnerException%2A>|<span data-ttu-id="39d15-167">空引用（在 Visual Basic 中为 `Nothing`）。</span><span class="sxs-lookup"><span data-stu-id="39d15-167">A null reference (`Nothing` in Visual Basic).</span></span>|  
|<xref:System.Exception.Message%2A>|<span data-ttu-id="39d15-168">本地化的错误消息字符串。</span><span class="sxs-lookup"><span data-stu-id="39d15-168">The localized error message string.</span></span>|  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public InvalidCastException (string message);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string message) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.InvalidCastException.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (message As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; InvalidCastException(System::String ^ message);" />
      <MemberSignature Language="F#" Value="new InvalidCastException : string -&gt; InvalidCastException" Usage="new System.InvalidCastException message" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="39d15-169">描述错误的消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-169">The message that describes the error.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="39d15-170">用指定的错误消息初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-170">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class with a specified error message.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-171">此构造函数初始化<xref:System.Exception.Message%2A?displayProperty=nameWithType>属性的新的异常使用`message`参数。</span><span class="sxs-lookup"><span data-stu-id="39d15-171">This constructor initializes the <xref:System.Exception.Message%2A?displayProperty=nameWithType> property of the new exception using the `message` parameter.</span></span> <span data-ttu-id="39d15-172">`message` 的内容被设计为人可理解的形式。</span><span class="sxs-lookup"><span data-stu-id="39d15-172">The content of `message` is intended to be understood by humans.</span></span> <span data-ttu-id="39d15-173">此构造函数的调用方需要确保此字符串已针对当前系统区域性进行了本地化。</span><span class="sxs-lookup"><span data-stu-id="39d15-173">The caller of this constructor is required to ensure that this string has been localized for the current system culture.</span></span>  
  
 <span data-ttu-id="39d15-174">下表显示 <xref:System.InvalidCastException> 的实例的初始属性值。</span><span class="sxs-lookup"><span data-stu-id="39d15-174">The following table shows the initial property values for an instance of <xref:System.InvalidCastException>.</span></span>  
  
|<span data-ttu-id="39d15-175">Property</span><span class="sxs-lookup"><span data-stu-id="39d15-175">Property</span></span>|<span data-ttu-id="39d15-176">“值”</span><span class="sxs-lookup"><span data-stu-id="39d15-176">Value</span></span>|  
|--------------|-----------|  
|<xref:System.Exception.InnerException%2A>|<span data-ttu-id="39d15-177">空引用（在 Visual Basic 中为 `Nothing`）。</span><span class="sxs-lookup"><span data-stu-id="39d15-177">A null reference (`Nothing` in Visual Basic).</span></span>|  
|<xref:System.Exception.Message%2A>|<span data-ttu-id="39d15-178">错误消息字符串。</span><span class="sxs-lookup"><span data-stu-id="39d15-178">The error message string.</span></span>|  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected InvalidCastException (System.Runtime.Serialization.SerializationInfo info, System.Runtime.Serialization.StreamingContext context);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor(class System.Runtime.Serialization.SerializationInfo info, valuetype System.Runtime.Serialization.StreamingContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.InvalidCastException.#ctor(System.Runtime.Serialization.SerializationInfo,System.Runtime.Serialization.StreamingContext)" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New (info As SerializationInfo, context As StreamingContext)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; InvalidCastException(System::Runtime::Serialization::SerializationInfo ^ info, System::Runtime::Serialization::StreamingContext context);" />
      <MemberSignature Language="F#" Value="new InvalidCastException : System.Runtime.Serialization.SerializationInfo * System.Runtime.Serialization.StreamingContext -&gt; InvalidCastException" Usage="new System.InvalidCastException (info, context)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Security.SecuritySafeCritical</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="info" Type="System.Runtime.Serialization.SerializationInfo" />
        <Parameter Name="context" Type="System.Runtime.Serialization.StreamingContext" />
      </Parameters>
      <Docs>
        <param name="info">
          <span data-ttu-id="39d15-179">承载序列化对象数据的对象。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-179">The object that holds the serialized object data.</span>
          </span>
        </param>
        <param name="context">
          <span data-ttu-id="39d15-180">关于来源和目标的上下文信息</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-180">The contextual information about the source or destination.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="39d15-181">用序列化数据初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-181">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class with serialized data.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-182">此构造函数在反序列化过程中调用，以便重建通过流传输的异常对象。</span><span class="sxs-lookup"><span data-stu-id="39d15-182">This constructor is called during deserialization to reconstitute the exception object transmitted over a stream.</span></span> <span data-ttu-id="39d15-183">有关详细信息，请参阅[XML 和 SOAP 序列化](~/docs/standard/serialization/xml-and-soap-serialization.md)。</span><span class="sxs-lookup"><span data-stu-id="39d15-183">For more information, see [XML and SOAP Serialization](~/docs/standard/serialization/xml-and-soap-serialization.md).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public InvalidCastException (string message, Exception innerException);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string message, class System.Exception innerException) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.InvalidCastException.#ctor(System.String,System.Exception)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (message As String, innerException As Exception)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; InvalidCastException(System::String ^ message, Exception ^ innerException);" />
      <MemberSignature Language="F#" Value="new InvalidCastException : string * Exception -&gt; InvalidCastException" Usage="new System.InvalidCastException (message, innerException)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
        <Parameter Name="innerException" Type="System.Exception" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="39d15-184">解释异常原因的错误消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-184">The error message that explains the reason for the exception.</span>
          </span>
        </param>
        <param name="innerException">
          <span data-ttu-id="39d15-185">导致当前异常的异常。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-185">The exception that is the cause of the current exception.</span>
          </span>
          <span data-ttu-id="39d15-186">如果 <c>innerException</c> 参数不为 <see langword="null" />，则当前异常会在处理内部异常的 <see langword="catch" /> 块中引发。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-186">If the <c>innerException</c> parameter is not <see langword="null" />, the current exception is raised in a <see langword="catch" /> block that handles the inner exception.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="39d15-187">使用指定的错误消息和对作为此异常原因的内部异常的引用来初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-187">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class with a specified error message and a reference to the inner exception that is the cause of this exception.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-188">因前一个异常而直接引发的异常应在 <xref:System.Exception.InnerException%2A> 属性中包含对前一个异常的引用。</span><span class="sxs-lookup"><span data-stu-id="39d15-188">An exception that is thrown as a direct result of a previous exception should include a reference to the previous exception in the <xref:System.Exception.InnerException%2A> property.</span></span> <span data-ttu-id="39d15-189"><xref:System.Exception.InnerException%2A>属性将返回相同的值传递到构造函数中，或返回`null`如果<xref:System.Exception.InnerException%2A>属性不会提供给构造函数的内部异常值。</span><span class="sxs-lookup"><span data-stu-id="39d15-189">The <xref:System.Exception.InnerException%2A> property returns the same value that is passed into the constructor, or returns `null` if the <xref:System.Exception.InnerException%2A> property does not supply the inner exception value to the constructor.</span></span>  
  
 <span data-ttu-id="39d15-190">下表显示 <xref:System.InvalidCastException> 的实例的初始属性值。</span><span class="sxs-lookup"><span data-stu-id="39d15-190">The following table shows the initial property values for an instance of <xref:System.InvalidCastException>.</span></span>  
  
|<span data-ttu-id="39d15-191">Property</span><span class="sxs-lookup"><span data-stu-id="39d15-191">Property</span></span>|<span data-ttu-id="39d15-192">“值”</span><span class="sxs-lookup"><span data-stu-id="39d15-192">Value</span></span>|  
|--------------|-----------|  
|<xref:System.Exception.InnerException%2A>|<span data-ttu-id="39d15-193">内部异常引用。</span><span class="sxs-lookup"><span data-stu-id="39d15-193">The inner exception reference.</span></span>|  
|<xref:System.Exception.Message%2A>|<span data-ttu-id="39d15-194">错误消息字符串。</span><span class="sxs-lookup"><span data-stu-id="39d15-194">The error message string.</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Exception" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public InvalidCastException (string message, int errorCode);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string message, int32 errorCode) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.InvalidCastException.#ctor(System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (message As String, errorCode As Integer)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; InvalidCastException(System::String ^ message, int errorCode);" />
      <MemberSignature Language="F#" Value="new InvalidCastException : string * int -&gt; InvalidCastException" Usage="new System.InvalidCastException (message, errorCode)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="message" Type="System.String" />
        <Parameter Name="errorCode" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="message">
          <span data-ttu-id="39d15-195">指示所发生异常的原因的消息。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-195">The message that indicates the reason the exception occurred.</span>
          </span>
        </param>
        <param name="errorCode">
          <span data-ttu-id="39d15-196">与异常关联的错误代码 (HRESULT) 值。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-196">The error code (HRESULT) value associated with the exception.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="39d15-197">使用指定的消息和错误代码初始化 <see cref="T:System.InvalidCastException" /> 类的新实例。</span>
          <span class="sxs-lookup">
            <span data-stu-id="39d15-197">Initializes a new instance of the <see cref="T:System.InvalidCastException" /> class with a specified message and error code.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="39d15-198">此构造函数初始化<xref:System.Exception.Message%2A?displayProperty=nameWithType>属性的新的异常使用`message`参数。</span><span class="sxs-lookup"><span data-stu-id="39d15-198">This constructor initializes the <xref:System.Exception.Message%2A?displayProperty=nameWithType> property of the new exception using the `message` parameter.</span></span> <span data-ttu-id="39d15-199">`message` 的内容被设计为人可理解的形式。</span><span class="sxs-lookup"><span data-stu-id="39d15-199">The content of `message` is intended to be understood by humans.</span></span> <span data-ttu-id="39d15-200">此构造函数的调用方需要确保此字符串已针对当前系统区域性进行了本地化。</span><span class="sxs-lookup"><span data-stu-id="39d15-200">The caller of this constructor is required to ensure that this string has been localized for the current system culture.</span></span>  
  
 <span data-ttu-id="39d15-201">此构造函数提供 HRESULT 值的继承者可以访问<xref:System.InvalidCastException>类，通过受保护<xref:System.Exception.HResult%2A>属性的<xref:System.Exception>类。</span><span class="sxs-lookup"><span data-stu-id="39d15-201">This constructor supplies an HRESULT value that is accessible to inheritors of the <xref:System.InvalidCastException> class, via the protected <xref:System.Exception.HResult%2A> property of the <xref:System.Exception> class.</span></span>  
  
 <span data-ttu-id="39d15-202">下表显示 <xref:System.InvalidCastException> 的实例的初始属性值。</span><span class="sxs-lookup"><span data-stu-id="39d15-202">The following table shows the initial property values for an instance of <xref:System.InvalidCastException>.</span></span>  
  
|<span data-ttu-id="39d15-203">Property</span><span class="sxs-lookup"><span data-stu-id="39d15-203">Property</span></span>|<span data-ttu-id="39d15-204">“值”</span><span class="sxs-lookup"><span data-stu-id="39d15-204">Value</span></span>|  
|--------------|-----------|  
|<xref:System.Exception.InnerException%2A>|<span data-ttu-id="39d15-205">空引用（在 Visual Basic 中为 `Nothing`）。</span><span class="sxs-lookup"><span data-stu-id="39d15-205">A null reference (`Nothing` in Visual Basic).</span></span>|  
|<xref:System.Exception.Message%2A>|<span data-ttu-id="39d15-206">错误消息字符串。</span><span class="sxs-lookup"><span data-stu-id="39d15-206">The error message string.</span></span>|  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>