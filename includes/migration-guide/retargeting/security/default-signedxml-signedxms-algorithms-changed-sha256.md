### <a name="default-signedxml-and-signedxms-algorithms-changed-to-sha256"></a><span data-ttu-id="8975c-101">默认值？ 1？ 绎和 SignedXMS 算法更改为 SHA256</span><span class="sxs-lookup"><span data-stu-id="8975c-101">Default SignedXML and SignedXMS algorithms changed to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="8975c-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="8975c-102">Details</span></span>|<span data-ttu-id="8975c-103">在.NET Framework 4.7 和早期版本，？ 1？ 绎和 SignedCMS 默认为 SHA1 对于某些操作。从.NET Framework 4.7.1 开始，默认情况下，这些操作启用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="8975c-103">In the .NET Framework 4.7 and earlier, SignedXML and SignedCMS default to SHA1 for some operations.Starting with the .NET Framework 4.7.1, SHA256 is enabled by default for these operations.</span></span> <span data-ttu-id="8975c-104">由于 SHA1 不再被视为是安全的此更改是必需的。</span><span class="sxs-lookup"><span data-stu-id="8975c-104">This change is necessary because SHA1 is no longer considered to be secure.</span></span>|
|<span data-ttu-id="8975c-105">建议</span><span class="sxs-lookup"><span data-stu-id="8975c-105">Suggestion</span></span>|<span data-ttu-id="8975c-106">有两个新的上下文交换机值控制是否默认情况下使用 SHA1 （不安全） 或 SHA256:</span><span class="sxs-lookup"><span data-stu-id="8975c-106">There are two new context switch values to control whether SHA1 (insecure) or SHA256 is used by default:</span></span><ul><li><span data-ttu-id="8975c-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="8975c-107">Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms</span></span></li><li><span data-ttu-id="8975c-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span><span class="sxs-lookup"><span data-stu-id="8975c-108">Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms</span></span></li></ul><span data-ttu-id="8975c-109">面向.NET Framework 4.7.1 和更高版本，如果 SHA256 的用途是，可以还原默认值为 SHA1 通过添加下面的配置的应用程序切换到[运行时](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md)一部分应用配置文件：</span><span class="sxs-lookup"><span data-stu-id="8975c-109">For applications that target the .NET Framework 4.7.1 and later versions, if the use of SHA256 is undesirable, you can restore the default to SHA1 by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="language-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=true;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=true&quot; /&gt;&#13;&#10;</code></pre><span data-ttu-id="8975c-110">对于面向.NET Framework 4.7 和早期版本的应用程序，你可以选择加入此更改通过添加以下配置切换到[运行时](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md)你应用程序配置文件部分：</span><span class="sxs-lookup"><span data-stu-id="8975c-110">For applications that target the .NET Framework 4.7 and earlier versions, you can opt into this change by adding the following configuration switch to the [runtime](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your app config file:</span></span><pre><code class="language-xml">&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.Xml.UseInsecureHashAlgorithms=false;Switch.System.Security.Cryptography.Pkcs.UseInsecureHashAlgorithms=false&quot; /&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="8975c-111">范围</span><span class="sxs-lookup"><span data-stu-id="8975c-111">Scope</span></span>|<span data-ttu-id="8975c-112">次要</span><span class="sxs-lookup"><span data-stu-id="8975c-112">Minor</span></span>|
|<span data-ttu-id="8975c-113">版本</span><span class="sxs-lookup"><span data-stu-id="8975c-113">Version</span></span>|<span data-ttu-id="8975c-114">4.7.1</span><span class="sxs-lookup"><span data-stu-id="8975c-114">4.7.1</span></span>|
|<span data-ttu-id="8975c-115">类型</span><span class="sxs-lookup"><span data-stu-id="8975c-115">Type</span></span>|<span data-ttu-id="8975c-116">重定目标</span><span class="sxs-lookup"><span data-stu-id="8975c-116">Retargeting</span></span>|
|<span data-ttu-id="8975c-117">受影响的 API</span><span class="sxs-lookup"><span data-stu-id="8975c-117">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.Pkcs.CmsSigner?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.SignedXml?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.Xml.Reference?displayProperty=nameWithType></li></ul>|

