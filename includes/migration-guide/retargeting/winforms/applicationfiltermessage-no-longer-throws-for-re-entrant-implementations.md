### <a name="applicationfiltermessage-no-longer-throws-for-re-entrant-implementations-of-imessagefilterprefiltermessage"></a><span data-ttu-id="e115b-101">Application.FilterMessage 将不再引发可重入 IMessageFilter.PreFilterMessage 实现</span><span class="sxs-lookup"><span data-stu-id="e115b-101">Application.FilterMessage no longer throws for re-entrant implementations of IMessageFilter.PreFilterMessage</span></span>

|   |   |
|---|---|
|<span data-ttu-id="e115b-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="e115b-102">Details</span></span>|<span data-ttu-id="e115b-103">.NET Framework 4.6.1 之前，调用<xref:System.Windows.Forms.Application.FilterMessage(System.Windows.Forms.Message@)>与<xref:System.Windows.Forms.IMessageFilter.PreFilterMessage(System.Windows.Forms.Message@)>其调用<xref:System.Windows.Forms.Application.AddMessageFilter(System.Windows.Forms.IMessageFilter)?displayProperty=name>或<xref:System.Windows.Forms.Application.RemoveMessageFilter(System.Windows.Forms.IMessageFilter)?displayProperty=name>(时还调用<xref:System.Windows.Forms.Application.DoEvents>) 将导致<xref:System.IndexOutOfRangeException?displayProperty=name>。从面向.NET Framework 4.6.1 应用程序开始，将不再引发此异常，并可重入使用筛选器按上文所述可能。</span><span class="sxs-lookup"><span data-stu-id="e115b-103">Prior to the .NET Framework 4.6.1, calling <xref:System.Windows.Forms.Application.FilterMessage(System.Windows.Forms.Message@)> with an <xref:System.Windows.Forms.IMessageFilter.PreFilterMessage(System.Windows.Forms.Message@)> which called <xref:System.Windows.Forms.Application.AddMessageFilter(System.Windows.Forms.IMessageFilter)?displayProperty=name> or <xref:System.Windows.Forms.Application.RemoveMessageFilter(System.Windows.Forms.IMessageFilter)?displayProperty=name> (while also calling <xref:System.Windows.Forms.Application.DoEvents>) would cause an <xref:System.IndexOutOfRangeException?displayProperty=name>.Beginning with applications targeting the .NET Framework 4.6.1, this exception is no longer thrown, and re-entrant filters as described above may be used.</span></span>|
|<span data-ttu-id="e115b-104">建议</span><span class="sxs-lookup"><span data-stu-id="e115b-104">Suggestion</span></span>|<span data-ttu-id="e115b-105">请注意，<xref:System.Windows.Forms.Application.FilterMessage(System.Windows.Forms.Message@)>将不再引发的可重入<xref:System.Windows.Forms.IMessageFilter.PreFilterMessage(System.Windows.Forms.Message@)>行为上面所述。</span><span class="sxs-lookup"><span data-stu-id="e115b-105">Be aware that <xref:System.Windows.Forms.Application.FilterMessage(System.Windows.Forms.Message@)> will no longer throw for the re-entrant <xref:System.Windows.Forms.IMessageFilter.PreFilterMessage(System.Windows.Forms.Message@)> behavior described above.</span></span> <span data-ttu-id="e115b-106">这仅影响面向的.NET Framework 4.6.1.Apps 面向.NET Framework 4.6.1 可以选择退出此更改 （或目标的较旧框架中可以选择的应用） 应用程序使用[DontSupportReentrantFilterMessage](~/docs/framework/migration-guide/mitigation-custom-imessagefilter-prefiltermessage-implementations.md#mitigation)兼容性开关。</span><span class="sxs-lookup"><span data-stu-id="e115b-106">This only affects applications targeting the .NET Framework 4.6.1.Apps targeting the .NET Framework 4.6.1 can opt out of this change (or apps targeting older Frameworks may opt in) by using the [DontSupportReentrantFilterMessage](~/docs/framework/migration-guide/mitigation-custom-imessagefilter-prefiltermessage-implementations.md#mitigation) compatibility switch.</span></span>|
|<span data-ttu-id="e115b-107">范围</span><span class="sxs-lookup"><span data-stu-id="e115b-107">Scope</span></span>|<span data-ttu-id="e115b-108">边缘</span><span class="sxs-lookup"><span data-stu-id="e115b-108">Edge</span></span>|
|<span data-ttu-id="e115b-109">版本</span><span class="sxs-lookup"><span data-stu-id="e115b-109">Version</span></span>|<span data-ttu-id="e115b-110">4.6.1</span><span class="sxs-lookup"><span data-stu-id="e115b-110">4.6.1</span></span>|
|<span data-ttu-id="e115b-111">类型</span><span class="sxs-lookup"><span data-stu-id="e115b-111">Type</span></span>|<span data-ttu-id="e115b-112">重定目标</span><span class="sxs-lookup"><span data-stu-id="e115b-112">Retargeting</span></span>|
|<span data-ttu-id="e115b-113">受影响的 API</span><span class="sxs-lookup"><span data-stu-id="e115b-113">Affected APIs</span></span>|<ul><li><xref:System.Windows.Forms.Application.FilterMessage(System.Windows.Forms.Message@)?displayProperty=nameWithType></li></ul>|

