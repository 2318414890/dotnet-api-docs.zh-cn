### <a name="incorrect-implementation-of-memberdescriptorequals"></a><span data-ttu-id="1475d-101">不正确的 MemberDescriptor.Equals 的实现</span><span class="sxs-lookup"><span data-stu-id="1475d-101">Incorrect implementation of MemberDescriptor.Equals</span></span>

|   |   |
|---|---|
|<span data-ttu-id="1475d-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="1475d-102">Details</span></span>|<span data-ttu-id="1475d-103">原始实现&quot;等于&quot;方法将从下比较的对象的两个不同的字符串属性进行比较： 到描述字符串的类别名称。</span><span class="sxs-lookup"><span data-stu-id="1475d-103">Original implementation of &quot;Equals&quot; method was comparing two different string properties from the objects under comparison: category name to description string.</span></span> <span data-ttu-id="1475d-104">解决方法是比较&quot;类别&quot;到第一个对象的&quot;类别&quot;的第二个和&quot;说明&quot;到&quot;说明&quot;。</span><span class="sxs-lookup"><span data-stu-id="1475d-104">The fix is to compare &quot;category&quot; of first object to &quot;category&quot; of the second one and &quot;description&quot; to &quot;description&quot;.</span></span> <span data-ttu-id="1475d-105">为 true 以选择退出该新行为，如果面向 4.6.2 或为 false 时确定目标 framework 版本低于 4.6.2 启用此修补程序，可以设置 MemberDescriptorEqualsReturnsFalseIfEquivalent 配置值。</span><span class="sxs-lookup"><span data-stu-id="1475d-105">MemberDescriptorEqualsReturnsFalseIfEquivalent configuration value can be set to true to opt out of the new behavior if targeting 4.6.2 or to false to enable this fix when targeting framework version is below 4.6.2.</span></span>|
|<span data-ttu-id="1475d-106">建议</span><span class="sxs-lookup"><span data-stu-id="1475d-106">Suggestion</span></span>|<span data-ttu-id="1475d-107">如果你的应用程序依赖于 MemberDescriptor.Equals 有时返回 false 时描述符是等效的并且目标 4.6.2 版本的.NET Framework 中，有几个选项：</span><span class="sxs-lookup"><span data-stu-id="1475d-107">If your application depends on MemberDescriptor.Equals sometimes returning false when descriptors are equivalent, and you are targeting 4.6.2 version of the .NET Framework, you have several options:</span></span><ol><li><span data-ttu-id="1475d-108">更改代码以比较&quot;类别&quot;和&quot;说明&quot;手动除了运行 Equals 方法的字段。</span><span class="sxs-lookup"><span data-stu-id="1475d-108">Make code changes to compare &quot;category&quot; and &quot;description&quot; fields manually in addition to running Equals method.</span></span></li><li><span data-ttu-id="1475d-109">选择退出此更改通过将以下值添加到 app.config 文件：</span><span class="sxs-lookup"><span data-stu-id="1475d-109">Opt out from this change by adding the following value to the app.config file:</span></span></li></ol><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.MemberDescriptorEqualsReturnsFalseIfEquivalent=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="1475d-110">如果你的应用程序所针对 4.6.1 或较低版本的.NET Framework 中，并且你想要启用此更改，可以通过将以下值添加到 app.config 文件的兼容性开关设置为 false:</span><span class="sxs-lookup"><span data-stu-id="1475d-110">If your application targets 4.6.1 or lower version of the .NET Framework, and you want this change enabled, you can set the compatibility switch to false by adding the following value to the app.config file:</span></span><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.MemberDescriptorEqualsReturnsFalseIfEquivalent=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="1475d-111">范围</span><span class="sxs-lookup"><span data-stu-id="1475d-111">Scope</span></span>|<span data-ttu-id="1475d-112">边缘</span><span class="sxs-lookup"><span data-stu-id="1475d-112">Edge</span></span>|
|<span data-ttu-id="1475d-113">版本</span><span class="sxs-lookup"><span data-stu-id="1475d-113">Version</span></span>|<span data-ttu-id="1475d-114">4.6.2</span><span class="sxs-lookup"><span data-stu-id="1475d-114">4.6.2</span></span>|
|<span data-ttu-id="1475d-115">类型</span><span class="sxs-lookup"><span data-stu-id="1475d-115">Type</span></span>|<span data-ttu-id="1475d-116">重定目标</span><span class="sxs-lookup"><span data-stu-id="1475d-116">Retargeting</span></span>|
|<span data-ttu-id="1475d-117">受影响的 API</span><span class="sxs-lookup"><span data-stu-id="1475d-117">Affected APIs</span></span>|<ul><li><xref:System.ComponentModel.MemberDescriptor.Equals(System.Object)?displayProperty=nameWithType></li></ul>|

