### <a name="exceptions-during-unobserved-processing-in-systemthreadingtaskstask-no-longer-propagate-on-finalizer-thread"></a><span data-ttu-id="9fdb5-101">异常未观察到在处理过程中 System.Threading.Tasks.Task 不再在终结器线程上传播</span><span class="sxs-lookup"><span data-stu-id="9fdb5-101">Exceptions during unobserved processing in System.Threading.Tasks.Task no longer propagate on finalizer thread</span></span>

|   |   |
|---|---|
|<span data-ttu-id="9fdb5-102">详细信息</span><span class="sxs-lookup"><span data-stu-id="9fdb5-102">Details</span></span>|<span data-ttu-id="9fdb5-103">由于 <xref:System.Threading.Tasks.Task?displayProperty=name> 类表示异步操作，它捕获在异步处理过程中出现的所有非严重异常。</span><span class="sxs-lookup"><span data-stu-id="9fdb5-103">Because the <xref:System.Threading.Tasks.Task?displayProperty=name> class represents an asynchronous operation, it catches all non-severe exceptions that occur during asynchronous processing.</span></span> <span data-ttu-id="9fdb5-104">在 .NET Framework 4.5 中，如果未观察到异常，且代码绝不会等待任务，则异常将不再在终结器线程上传播并在垃圾回收期间不会导致进程崩溃。</span><span class="sxs-lookup"><span data-stu-id="9fdb5-104">In the .NET Framework 4.5, if an exception is not observed and your code never waits on the task, the exception will no longer propagate on the finalizer thread and crash the process during garbage collection.</span></span> <span data-ttu-id="9fdb5-105">此更改增强了使用 Task 类执行未观察到的异步处理的应用程序的可靠性。</span><span class="sxs-lookup"><span data-stu-id="9fdb5-105">This change enhances the reliability of applications that use the Task class to perform unobserved asynchronous processing.</span></span>|
|<span data-ttu-id="9fdb5-106">建议</span><span class="sxs-lookup"><span data-stu-id="9fdb5-106">Suggestion</span></span>|<span data-ttu-id="9fdb5-107">如果应用程序依赖于未观察到的异步异常传播到终结器线程，可以通过提供的相应的处理程序还原以前的行为<xref:System.Threading.Tasks.TaskScheduler.UnobservedTaskException>事件，或通过设置[运行时配置元素](~/docs/framework/configure-apps/file-schema/runtime/throwunobservedtaskexceptions-element.md).</span><span class="sxs-lookup"><span data-stu-id="9fdb5-107">If an app depends on unobserved asynchronous exceptions propagating to the finalizer thread, the previous behavior can be restored by providing an appropriate handler for the <xref:System.Threading.Tasks.TaskScheduler.UnobservedTaskException> event, or by setting a [runtime configuration element](~/docs/framework/configure-apps/file-schema/runtime/throwunobservedtaskexceptions-element.md).</span></span>|
|<span data-ttu-id="9fdb5-108">范围</span><span class="sxs-lookup"><span data-stu-id="9fdb5-108">Scope</span></span>|<span data-ttu-id="9fdb5-109">边缘</span><span class="sxs-lookup"><span data-stu-id="9fdb5-109">Edge</span></span>|
|<span data-ttu-id="9fdb5-110">版本</span><span class="sxs-lookup"><span data-stu-id="9fdb5-110">Version</span></span>|<span data-ttu-id="9fdb5-111">4.5</span><span class="sxs-lookup"><span data-stu-id="9fdb5-111">4.5</span></span>|
|<span data-ttu-id="9fdb5-112">类型</span><span class="sxs-lookup"><span data-stu-id="9fdb5-112">Type</span></span>|<span data-ttu-id="9fdb5-113">运行时</span><span class="sxs-lookup"><span data-stu-id="9fdb5-113">Runtime</span></span>|
|<span data-ttu-id="9fdb5-114">受影响的 API</span><span class="sxs-lookup"><span data-stu-id="9fdb5-114">Affected APIs</span></span>|<ul><li><xref:System.Threading.Tasks.Task.Run(System.Action)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Action,System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Func{System.Threading.Tasks.Task})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run(System.Func{System.Threading.Tasks.Task},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{%60%600})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{%60%600},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{System.Threading.Tasks.Task{%60%600}})?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Run%60%601(System.Func{System.Threading.Tasks.Task{%60%600}},System.Threading.CancellationToken)?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Start?displayProperty=nameWithType></li><li><xref:System.Threading.Tasks.Task.Start(System.Threading.Tasks.TaskScheduler)?displayProperty=nameWithType></li></ul>|

